<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Combined Auto Data & Number Copy</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
body {
    font-family: Arial, sans-serif;
    background: #0e1726;
    color: #fff;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}
/* Common container style */
.container {
    background: #1a2333;
    padding: 15px 20px;
    border-radius: 15px;
    width: 95%;
    max-width: 500px;
    box-sizing: border-box;
    text-align: center;
}
/* AUTO DATA section */
.data-text {
    font-size: 1.1rem;
    margin: 15px 0;
    word-break: break-word;
    min-height: 2rem;
    transition: color 0.3s, transform 0.2s;
}
.data-text.copied {
    color: #00ffae;
    transform: scale(1.05);
}
.stats-container {
    display: flex;
    justify-content: space-around;
    margin-bottom: 15px;
    flex-wrap: wrap;
}
.stats {
    font-size: 0.9rem;
    color: #ccc;
    margin: 5px;
}
.button-container {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
    flex-wrap: wrap;
}
button {
    cursor: pointer;
    transition: 0.2s;
}
/* AUTO DATA buttons */
button.username-btn { background: #007bff; color:#fff; width:50px; height:50px; border-radius:50%; font-size:1.5rem; display:flex; align-items:center; justify-content:center;}
button.username-btn:hover { background: #0069d9; }
button.gmail-btn { background: #28a745; color:#fff; width:50px; height:50px; border-radius:50%; font-size:1.5rem; display:flex; align-items:center; justify-content:center;}
button.gmail-btn:hover { background: #218838; }
button.name-btn { background: #ffc107; color:#333; width:50px; height:50px; border-radius:50%; font-size:1.5rem; display:flex; align-items:center; justify-content:center;}
button.name-btn:hover { background: #e0a800; }

/* Compact Number Copy section */
textarea {
    width: 100%;
    height: 80px;
    border-radius:5px;
    border:none;
    padding:5px;
    resize:none;
    margin-bottom:5px;
}
.numbers-list {
    display:flex;
    flex-wrap:wrap;
    gap:5px;
    margin-top:5px;
}
.numbers-list button {
    background:#007bff;
    padding:3px 8px;
    font-size:0.8rem;
    transition:0.2s;
}
.numbers-list button.copied {
    background:#00ffae; /* Copied ‡¶π‡¶≤‡ßá ‡¶∏‡¶¨‡ßÅ‡¶ú */
    color:#000;
    font-weight:bold;
}
.control-buttons {
    display:flex;
    gap:5px;
    flex-wrap:wrap;
    margin-bottom:5px;
}
.control-buttons button {
    padding:5px 10px;
    margin:2px;
    border:none;
    border-radius:5px;
    background:#28a745;
    color:#fff;
    cursor:pointer;
    font-size:0.9rem;
}
</style>
</head>
<body>

<!-- AUTO DATA SECTION -->
<div class="container" id="autoDataContainer">
    <div class="stats-container">
        <div id="usernameStats" class="stats"><i class="fa-solid fa-user"></i> 0/0</div>
        <div id="gmailStats" class="stats"><i class="fa-solid fa-envelope"></i> 0/0</div>
        <div id="nameStats" class="stats"><i class="fa-solid fa-id-badge"></i> 0/0</div>
    </div>

    <div class="data-text" id="dataText">Loading...</div>

    <div class="button-container">
        <button class="username-btn" id="usernameBtn" title="Copy Username"><i class="fa-solid fa-user"></i></button>
        <button class="gmail-btn" id="gmailBtn" title="Copy Gmail"><i class="fa-solid fa-envelope"></i></button>
        <button class="name-btn" id="nameBtn" title="Copy Name"><i class="fa-solid fa-id-badge"></i></button>
    </div>
</div>

<!-- COMPACT NUMBER COPY SECTION -->
<div class="container" id="numberCopyContainer">
    <textarea id="numbersInput" placeholder="‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"></textarea>
    <div class="control-buttons">
        <button id="generateBtn">Generate</button>
        <button id="copyAllBtn">Copy All</button>
        <button id="clearBtn">Clear All</button>
    </div>
    <div class="numbers-list" id="numbersList"></div>
</div>

<script>
// ---------------- AUTO DATA JS ----------------
let data = { username: [], gmail: [], name: [] };
let used = { username: new Set(), gmail: new Set(), name: new Set() };
let totals = { username: 0, gmail: 0, name: 0 };
const dataDiv = document.getElementById("dataText");

const urls = {
    username: "https://raw.githubusercontent.com/allinworld2k/bug-free-journey/refs/heads/main/username.txt",
    gmail: "https://raw.githubusercontent.com/allinworld2k/bug-free-journey/refs/heads/main/mobile_emails.txt",
    name: "https://raw.githubusercontent.com/allinworld2k/bug-free-journey/refs/heads/main/name.txt"
};

function updateStats(type){
    const copied = used[type].size;
    let icon = type === "username" ? "user" : type === "gmail" ? "envelope" : "id-badge";
    document.getElementById(`${type}Stats`).innerHTML = `<i class="fa-solid fa-${icon}"></i> ${copied}/${totals[type]}`;
}

function showNext(type){
    while(data[type].length>0 && used[type].has(data[type][0])){
        data[type].shift();
    }
    if(data[type].length===0){
        dataDiv.textContent = `üéâ All ${type}s copied!`;
    } else {
        dataDiv.textContent = data[type][0].slice(0,30)+'...';
        dataDiv.classList.remove("copied");
    }
    updateStats(type);
}

function copyData(type){
    if(data[type].length===0) return;
    const current = data[type][0];
    if(!used[type].has(current)){
        const temp = document.createElement("textarea");
        temp.value = current;
        document.body.appendChild(temp);
        temp.select();
        temp.setSelectionRange(0,99999);
        const success = document.execCommand("copy");
        document.body.removeChild(temp);

        if(success){
            used[type].add(current);
            localStorage.setItem(`used_${type}`, JSON.stringify([...used[type]]));
            dataDiv.classList.add("copied");
            dataDiv.textContent = `‚úÖ Copied ${type}`;
            setTimeout(()=>showNext(type),800);
        } else {
            alert("‚ùå Copy failed. Use Ctrl+C / Tap & Hold manually.");
        }
    }
}

["username","gmail","name"].forEach(type=>{
    const stored = localStorage.getItem(`used_${type}`);
    if(stored) used[type] = new Set(JSON.parse(stored));

    fetch(urls[type])
    .then(res=>res.text())
    .then(txt=>{
        data[type]=txt.split(/\r?\n/).filter(line=>line.trim()!=="");
        totals[type]=data[type].length;
        showNext(type);
    })
    .catch(err=>{
        console.error(`Error loading ${type}`,err);
        dataDiv.textContent = `‚ùå Failed to load ${type} data`;
    });

    document.getElementById(`${type}Btn`).onclick = ()=>copyData(type);
});

// ---------------- COMPACT NUMBER COPY JS ----------------
let numbersArray = [];

document.getElementById("generateBtn").onclick = function(){
    const input = document.getElementById("numbersInput").value;
    const numbers = input.split(/\r?\n/).map(n => n.trim()).filter(n => n!=="");
    numbersArray = numbers.map(n => '+'+n);
    const listDiv = document.getElementById("numbersList");
    listDiv.innerHTML="";
    numbersArray.forEach(num=>{
        const btn = document.createElement("button");
        btn.textContent = num;
        btn.dataset.copied = "false";
        btn.onclick = ()=> {
            navigator.clipboard.writeText(num).then(()=>{
                btn.dataset.copied = "true";
                btn.classList.add("copied");
            });
        };
        listDiv.appendChild(btn);
    });
};

document.getElementById("copyAllBtn").onclick = ()=>{
    if(numbersArray.length===0) return;
    navigator.clipboard.writeText(numbersArray.join("\n")).then(()=>{
        document.querySelectorAll("#numbersList button").forEach(btn=>{
            btn.dataset.copied = "true";
            btn.classList.add("copied");
        });
        alert("‚úÖ All numbers copied!");
    });
};

document.getElementById("clearBtn").onclick = ()=>{
    numbersArray=[];
    document.getElementById("numbersList").innerHTML="";
    document.getElementById("numbersInput").value="";
};
</script>

</body>
</html>
